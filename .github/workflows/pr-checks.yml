name: PR Checks

# Validate pull requests before merging to main
# Uses reusable quality-and-build workflow with PR-appropriate settings
on:
  pull_request:
    branches: [main]
    types: [opened, synchronize, reopened]
    paths-ignore:
      - '*.md'
      - 'LICENSE'
      - 'CHANGELOG.md'
      - '.github/dependabot.yml'
      - '.github/CODEOWNERS'
      - '.github/ISSUE_TEMPLATE/**'
      - '.github/PULL_REQUEST_TEMPLATE/**'
      - '.goreleaser.yaml'
      - 'release-please-config.json'
      - '.release-please-manifest.json'
      - '.gitignore'
      - '.gitattributes'

# Read-only permissions for PR validation
permissions:
  contents: read

jobs:
  validate:
    name: Validate PR
    uses: ./.github/workflows/quality-and-build.yml
    with:
      # Development build - no version metadata injection
      inject-version: false
      version: 'dev'

      # No checksums needed for PR validation
      generate-checksums: false

      # No artifacts needed for PR validation
      upload-artifacts: false

      # Tool versions (same as release builds)
      go-version: '1.25'
      golangci-lint-version: 'v2.7.1'
